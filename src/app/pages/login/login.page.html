<ion-content class="ion-padding">
  <div class="login-container">
    <!-- Logo y título -->
    <div class="logo-container">
      <img src="assets/imgs/logo-duoc.png" alt="DuocUC Logo" class="logo">
      <h1>Te Llevo</h1>
      <p>DUOC UC</p>
    </div>

    <!-- Formulario -->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
      <!-- Email -->
      <ion-item class="custom-input">
        <ion-label position="floating">Correo electrónico</ion-label>
        <ion-input 
          type="email" 
          formControlName="email"
          placeholder="usuario@duocuc.cl">
        </ion-input>
        <ion-note slot="error" *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.errors?.['required']">
          El correo es requerido
        </ion-note>
        <ion-note slot="error" *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.errors?.['email']">
          Ingrese un correo válido
        </ion-note>
      </ion-item>

      <!-- Password -->
      <ion-item class="custom-input">
        <ion-label position="floating">Contraseña</ion-label>
        <ion-input 
          [type]="showPassword ? 'text' : 'password'" 
          formControlName="password"
          placeholder="Ingrese su contraseña">
        </ion-input>
        <ion-button 
          fill="clear" 
          slot="end" 
          (click)="togglePassword()"
          class="password-toggle">
          <ion-icon [name]="showPassword ? 'eye-off' : 'eye'" slot="icon-only"></ion-icon>
        </ion-button>
        <ion-note slot="error" *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.errors?.['required']">
          La contraseña es requerida
        </ion-note>
      </ion-item>

      <!-- Botón de ingreso -->
      <ion-button 
        expand="block" 
        color="duoc-blue" 
        type="submit"
        [disabled]="!loginForm.valid || isLoading"
        class="login-button">
        <ion-spinner name="crescent" *ngIf="isLoading"></ion-spinner>
        <span *ngIf="!isLoading">Ingresar</span>
      </ion-button>

      <!-- Enlaces adicionales -->
      <div class="additional-links">
        <ion-button 
          fill="clear" 
          color="duoc-blue" 
          (click)="goToRecuperarPassword()"
          class="forgot-password">
          ¿Olvidaste tu contraseña?
        </ion-button>
        
        <ion-button 
          fill="clear" 
          color="duoc-blue" 
          (click)="goToRegistro()"
          class="register">
          Registrarse
        </ion-button>
      </div>
    </form>
  </div>
</ion-content>